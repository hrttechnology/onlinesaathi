jQuery(document).ready(function(){jQuery(".woocommerce-form-login button").after('<div class="login_msg success" style="display:none"></div>');jQuery(".woocommerce-form-login button").after('<div class="login_msg fail" style="display:none"></div>');jQuery(".woocommerce-form-login button").after('<div class="login_loader" style="display:none"><img src="'+quick_checkout_login_ajax_object.plugin_dir_url+'assets/img/wpspin.gif">'+quick_checkout_login_ajax_object.loading_text+"</div>")});jQuery(document).on("submit",".woocommerce-form-login",function(e){var form=jQuery(this);var error;var username=form.find("#username");var password=form.find("#password");if(username.val()===""){form.find(".login_msg.fail").text(quick_checkout_login_ajax_object.required_message).show();showerror(username);error=!0}else{hideerror(username)}
if(password.val()==""){form.find(".login_msg.fail").text(quick_checkout_login_ajax_object.required_message).show();showerror(password);error=!0}else{hideerror(password)}
if(error==!0){return!1}
form.find(".login_loader").show();form.find(".login_msg").hide();jQuery.ajax({type:"POST",dataType:"json",url:quick_checkout_login_ajax_object.ajax_url,data:form.serialize(),success:function(data){form.find(".login_loader").hide();if(data.loggedin==!0){form.find(".login_msg.success").html(data.message).show();if(data.redirect!=!1){window.location=data.redirect}else{window.location.reload()}}else{if(data.invalid_username==!0){showerror(username);username.removeClass("input-success-icon");username.addClass("input-failure-icon")}else{hideerror(username);username.addClass("input-success-icon");username.removeClass("input-failure-icon")}
if(data.incorrect_password==!0){showerror(password);password.removeClass("input-success-icon");password.addClass("input-failure-icon")}else{hideerror(password);password.addClass("input-success-icon");password.removeClass("input-failure-icon")}
form.find(".login_msg.fail").html(data.message).show()}},error:function(jqXHR,exception){var msg="";if(jqXHR.status===0){msg="Not connect.\n Verify Network."}else if(jqXHR.status==404){msg="Requested page not found. [404]"}else if(jqXHR.status==500){msg="Internal Server Error [500]."}else if(exception==="parsererror"){msg="Requested JSON parse failed."}else if(exception==="timeout"){msg="Time out error."}else if(exception==="abort"){msg="Ajax request aborted."}else if(jqXHR.responseText==="-1"){msg="Please refresh page and try again."}else{msg="Uncaught Error.\n"+jqXHR.responseText}
form.find(".login_loader").hide();form.find(".login_msg.fail").hide();form.find(".login_msg.fail").html(msg).show()}});e.preventDefault()});jQuery(document).on("keyup",".woocommerce-form-login #username",function(e){var form=jQuery(".woocommerce-form-login");var error;var username=form.find("#username");if(username.val()===""){showerror(username);form.find(".login_msg.fail").text(quick_checkout_login_ajax_object.required_message).show();username.removeClass("input-success-icon");username.addClass("input-failure-icon");error=!0}else{hideerror(username);username.addClass("input-success-icon");username.removeClass("input-failure-icon")}
if(error==!0){return!1}else{form.find(".login_msg.fail").hide()}});jQuery(document).on("keyup",".woocommerce-form-login #password",function(e){var form=jQuery(".woocommerce-form-login");var error;var password=form.find("#password");if(password.val()===""){form.find(".login_msg.fail").text(quick_checkout_login_ajax_object.required_message).show();showerror(password);password.removeClass("input-success-icon");password.addClass("input-failure-icon");error=!0}else{hideerror(password);password.addClass("input-success-icon");password.removeClass("input-failure-icon")}
if(error==!0){return!1}else{form.find(".login_msg.fail").hide()}});function showerror(element){element.css("border-color","red")}
function hideerror(element){element.css("border-color","")}